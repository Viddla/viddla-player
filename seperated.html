<!DOCTYPE html>
<html>
<head>
  <title>Video Player</title>
  <style>
    .vlplay {
      width: 100%;
    }
  </style>
</head>
<body>
  <video controls muted class="vlplay" poster="assets/poster.avif">
    <source src="assets/hatav1-720.mp4" type='video/mp4' label='144p' res='144' />
	<audio src="assets/test.mp3" type='audio/mp3' srclang="en" />
  </video>

  <button onclick="playVideoAndAudio()">Play</button>
  <button onclick="pauseVA()">Pause</button>
  
  <script>
    var video = document.querySelector('.vlplay');
    /*var audio = document.createElement('audio');
    audio.src = 'assets/test.mp3';
    audio.type = 'audio/mp3';
    audio.preload = 'auto';
    audio.controls = true;*/
    //audio.style.display = 'none';

    //video.parentNode.insertBefore(audio, video.nextSibling);

const sourceElements = video.querySelectorAll('audio');

if (sourceElements.length <= 1) {
  //restrack.style.display = 'none'; // there is nothing to change
console.log("err");
}

  </script>
  
    <script>
    video = document.querySelector('.vlplay');
    audio = document.querySelector('audio');
	
	video.load();
	audio.load();
	
    function playVideoAndAudio() {
  
      video.play();
      audio.play();
	  
		video.currentTime = 0;
		audio.currentTime = 0;
    }
	
	video.addEventListener('seeked', function() {
    audio.currentTime = video.currentTime;
	console.log(audio.currentTime);
  });

	video.addEventListener('play', function() {
    audio.currentTime = video.currentTime;
	console.log(audio.currentTime);
  });	video.addEventListener('paused', pauseVA());

   function pauseVA() {
      video.pause();
      audio.pause();
  };
  </script>
  
</body>
</html>
